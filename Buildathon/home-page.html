<!DOCTYPE html>
<html>
  <head>
    <title>
      Create Application
    </title>
    <link rel="stylesheet" type="text/css" href="styles\home-page.css">
  </head>
  <body>


    <div class="home-header">
      <div class="header">
        <div class="home-text">
          <a href="home-page.html"><p>Home</p></a>
        </div>
        <div class="Dashboard-text">
          <a href="dashboard.html"><p>Dashboard</p></a>
        </div>
      </div>
    </div>



    <div class="logo-para"> 
      <div class="robo">
          <img src="icons\requesta-logo.png"class="logo">
      </div>
      <div class="head">
        Apply Online || Get Verified || Stay Stress-Free
      </div>
      <div class="para">
          <div>
           A secure online system that allows students to submit applications and get them verified and approved by the principal digitally
          </div>  
      </div>
    </div>





    <div class="request-button-div">
      <button class="continue-application" onclick="showTab('form');">
      <div>
        <div class="pencil"></div>
        <div class="folder">
            <div class="top">
                <svg viewBox="0 0 24 27">
                    <path d="M1,0 L23,0 C23.5522847,-1.01453063e-16 24,0.44771525 24,1 L24,8.17157288 C24,8.70200585 23.7892863,9.21071368 23.4142136,9.58578644 L20.5857864,12.4142136 C20.2107137,12.7892863 20,13.2979941 20,13.8284271 L20,26 C20,26.5522847 19.5522847,27 19,27 L1,27 C0.44771525,27 6.76353751e-17,26.5522847 0,26 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z"></path>
                </svg>
            </div>
            <div class="paper"></div>
        </div>
      </div>
    Create New Application
    </button>
 </div>
    
    <form id="form" class="flex-container form">
      <div class="from-div">
        <label class="label-from">From :</label><br>
        <input class="from-input-box" type="text" placeholder="Enter your name" id="name" ><br>
        <input class="from-input-box" type="text" placeholder="Name of the department" id="department"><br>
        <input class="from-input-box" type="number" placeholder="year of admission" id="year"><br>
        <input class="from-input-box" type="email" placeholder="Enter your email" id="email"><br>
        <input class="from-input-box" type="number" placeholder="Enter your phone number" id="phoneNumber"><br>
      </div>

      <div class="subject-div">
        <label class="label-subject">Subject :</label><br>
        <input type="text" class="subject-text-area" id="subject" name="subject"><br>
      </div>
      <div class="body-div">
        <textarea class="body-text-area" id="body" name="name"required></textarea>
      </div>
      
       <div class="submit-button-div">
        <button onclick="
        submitRequest();
        " class="submit-button"> Submit
        </button>
       </div> 
      
    </form>
    


    <script>
      function showTab(tabId) {
      
      document.getElementById(tabId).style.display = 'block';
      }




      function submitRequest(){
        
        let name = document.getElementById("name").value;
        let department = document.getElementById("department").value;
        let year = document.getElementById("year").value;
        let email = document.getElementById("email").value;
        let phoneNumber = document.getElementById("phoneNumber").value;
        let subject = document.getElementById("subject").value;
        let body = document.getElementById("body").value;

        if(!name || !department || !year || !email || !phoneNumber  || !subject || !body){
          alert("Please fill all fields");
        } else{
          let apps = JSON.parse(localStorage.getItem("applications")) || [];

          let newApp = {
            id : Date.now(),
            name,
            department,
            year,
            email,
            phoneNumber,
            subject,
            body,
            stage: "Advisor",
            status: "Pending"
          };

          apps.push(newApp);
          localStorage.setItem("applications" , JSON.stringify(apps));
          alert("Application Submitted");

          document.getElementById("form").reset();

          document.getElementById("form").style.display = "none";

          document.getElementById("name").value = "";
          document.getElementById("department").value = "";
          document.getElementById("year").value = "";
          document.getElementById("email").value = "";
          document.getElementById("phoneNumber").value = "";
          document.getElementById("subject").value = "";
          document.getElementById("body").value = "";
          };
      }
      

    </script>
  </body>
</html>