<!DOCTYPE html>
<html>
  <head>
    <title>
      Principal Panel
    </title>
  </head>
  <body>
    <div id="applications"></div>

 


<script>
  let apps = JSON.parse(localStorage.getItem("applications")) || [];
  let container = document.getElementById("applications");

  

   apps.forEach((a)=>{
  container.innerHTML += `
    <div>
      <p>From:</p>
      <p>${a.name}<p>
      <p>${a.department}</p>
      <p>${a.year}</p>
      <p>${a.email}</p>
      <p>${a.phoneNumber}</p>
      <p>Subject: ${a.subject}</p>
      <p>${a.body}</p>
      
      <button onclick="updateStatus(${a.id},'Approved')">Approve</button>
      <button onclick="updateStatus(${a.id},'Rejected')">Reject</button>
      <hr>
    </div>
      `
      
  });



  function updateStatus(id, status){
    apps = apps.map(app =>
      app.id === id ? {...app, status: status} : app
    );

    localStorage.setItem("applications", JSON.stringify(apps));

    alert("Status Updated: " + status);

    location.reload();
  }




</script>
 </body>
</html>