<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>

    <style>
      .flex-container{
        display: none;
      }
      .request-button{
        color: white ;
        background-color: black;
      }
    </style>
  </head>
  <body>
    <button class="request-button" onclick="showTab('form')">
      + Add Requests 
    </button>

    <div id="form" class="flex-container">
      <div class="from-div">
        <label class="label-from">From :</label><br>
        <input class="from-input-box" type="text" placeholder="Enter your name" id="name" ><br>
        <input class="from-input-box" type="text" placeholder="Name of the department" id="department"><br>
        <input class="from-input-box" type="number" placeholder="year of admission" id="year"><br>
        <input class="from-input-box" type="email" placeholder="Enter your email" id="email"><br>
        <input class="from-input-box" type="number" placeholder="Enter your phone number" id="phoneNumber"><br>
      </div>

      <div class="subject-div">
        <label class="label-subject">Subject :</label><br>
        <textarea class="subject-text-area" id="subject" name="subject" required></textarea><br>
      </div>
      <div class="body-div">
        <textarea class="body-text-area" id="body" name="name"required></textarea>
      </div>
      
       <div>
        <button onclick="submitrequest();" class="submit-button">
           Submit
        </button>
       </div> 
      
    </div>

    <script>
      function showTab(tabId) {
      const contents = document.querySelectorAll('.form');
      contents.forEach(item => item.style.display = 'none');

      document.getElementById(tabId).style.display = 'block';
      }

      function submitrequest(){
        
        let name = document.getElementById("name").value;
        let department = document.getElementById("department").value;
        let year = document.getElementById("year").value;
        let email = document.getElementById("email").value;
        let phoneNumber = document.getElementById("phoneNumber").value;
        let subject = document.getElementById("subject").value;
        let body = document.getElementById("body").value;

        if(!name || !department || !year || !email || !phoneNumber  || !subject || !body){
          alert("Please fill all fields");
        } else{
          let apps = JSON.parse(localStorage.getItem("applications")) || [];

          let newApp = {
            id : Date.now(),
            name,
            department,
            year,
            email,
            phoneNumber,
            subject,
            body,
            status: "Pending"
          };

          apps.push(newApp);
          localStorage.setItem("applications" , JSON.stringify(apps));
          alert("Application Submitted");

          document.getElementById("name").value = "";
          document.getElementById("department").value = "";
          document.getElementById("year").value = "";
          document.getElementById("email").value = "";
          document.getElementById("phoneNumber").value = "";
          document.getElementById("subject").value = "";
          document.getElementById("body").value = "";
          }
      }
  
    
    </script>
  </body>
</html>